/**
* A library of functions for text based input and output over UART
* Same API as Output/Keyboard from nand2tetris for print[*]/read[*] respectively
*/
class StdIO {

    /** Prints the String s to UART_TX and disposes the String s */
    function void printString(String s) {
        var int i, len;
        let i = 0;
        let len = s.length();
        while (i < len) {
            do UART.writeChar(s.charAt(i));
            let i = i + 1;
        }
        return;
    }

    /** Prints the decimal representation of i to UART_TX */
    function void printInt(int i) {
        var String s;
        let s = String.new(6); // max strInt = -16384
        do s.setInt(i);
        do StdIO.printString(s);
        do s.dispose();
        return;
    }

    /** Prints the new line character to UART_TX */
    function void println() {
        do UART.writeChar(13); // ascii CR (carriage return)
        do UART.writeChar(10); // ascii LF (line feed)
        return;
    }

    /**
     * Sends the message to UART_TX, disposes the message,
     * reads from UART_RX the entered text until a newline character
     * is detected, echoes the text to UART_TX, and returns its integer
     * value (until the first non-digit character in the entered text is
     * detected). Also handles user backspaces. */
    function int readInt(String message) {
        // TODO: NYI
        return -1;
    }

    /**
     * Sends the message to UART_TX, reads from UART_RX the entered
     * text until a newline character is detected, echoes the text
     * to the UART_TX, and returns its value. Also handles user backspaces. */
    function String readLine(String message) {
        // TODO: NYI
        return -1;
    }
}
